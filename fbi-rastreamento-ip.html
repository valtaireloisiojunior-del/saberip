<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2713105320249369" crossorigin="anonymous"></script>

    <!-- B√°sico -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO VIRAL FBI -->
    <title>üö® FBI IP TRACKER | Sistema de Rastreamento de IP Oficial | SEUIP.ORG</title>
    <meta name="description" content="üîç SISTEMA OFICIAL DE RASTREAMENTO DE IP - Ferramenta utilizada pelo FBI para localiza√ß√£o precisa. Rastreie qualquer IP com tecnologia avan√ßada.">
    <meta name="robots" content="index, follow">
    <meta name="author" content="SEUIP.ORG - FBI TRACKING SYSTEM">

    <!-- Canonical -->
    <link rel="canonical" href="https://seuip.org/fbi-ip-tracker">

    <!-- Open Graph FBI -->
    <meta property="og:title" content="üö® FBI IP TRACKER | Sistema Oficial de Rastreamento">
    <meta property="og:description" content="Ferramenta utilizada pelo FBI para rastreamento de IPs com precis√£o militar. 100% funcional e gratuito.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://seuip.org/fbi-ip-tracker">
    <meta property="og:site_name" content="FBI IP TRACKER">

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="üö® FBI IP TRACKER | Sistema Oficial de Rastreamento">
    <meta name="twitter:description" content="Tecnologia do FBI para rastrear qualquer IP. Experimente agora!">
    
    <!-- Leaflet CSS para mapa -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet Extra Layers -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --fbi-blue: #003087;
            --fbi-gold: #ffd700;
            --fbi-red: #c41e3a;
            --fbi-dark: #0a0a1a;
            --fbi-light: #f0f8ff;
            --fbi-success: #00ff99;
            --fbi-warning: #ffa500;
            --fbi-danger: #ff4757;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', 'Consolas', 'Segoe UI', monospace;
            background: var(--fbi-dark);
            color: var(--fbi-light);
            line-height: 1.6;
            padding: 15px;
            max-width: 1400px;
            margin: 0 auto;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 48, 135, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(196, 30, 58, 0.1) 0%, transparent 20%);
            position: relative;
            overflow-x: hidden;
        }
        
        /* Scanlines effect */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                rgba(0, 0, 0, 0.2) 50%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.3;
            animation: scanlines 1s linear infinite;
        }
        
        @keyframes scanlines {
            0% { background-position: 0 0; }
            100% { background-position: 0 4px; }
        }
        
        /* FBI Header */
        .fbi-header {
            text-align: center;
            padding: 30px 20px;
            margin-bottom: 30px;
            border-bottom: 3px solid var(--fbi-red);
            background: linear-gradient(135deg, rgba(0, 48, 135, 0.3) 0%, rgba(10, 10, 26, 0.8) 100%);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 48, 135, 0.5);
        }
        
        .fbi-header::before {
            content: "üîí SISTEMA SEGURO";
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--fbi-red);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .fbi-header::after {
            content: "üö®";
            position: absolute;
            bottom: -20px;
            left: -20px;
            font-size: 3rem;
            opacity: 0.1;
            transform: rotate(45deg);
        }
        
        .fbi-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--fbi-red);
            color: white;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: bold;
            margin-bottom: 15px;
            border: 2px solid var(--fbi-gold);
            animation: badgeGlow 3s infinite;
        }
        
        @keyframes badgeGlow {
            0%, 100% { box-shadow: 0 0 10px var(--fbi-red); }
            50% { box-shadow: 0 0 20px var(--fbi-red); }
        }
        
        .fbi-title {
            color: var(--fbi-light);
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 
                0 0 10px var(--fbi-blue),
                0 0 20px rgba(0, 48, 135, 0.5);
            letter-spacing: 2px;
            position: relative;
        }
        
        .fbi-title span {
            color: var(--fbi-gold);
            text-shadow: 0 0 10px var(--fbi-gold);
        }
        
        .fbi-subtitle {
            color: var(--fbi-light);
            font-size: 1.2rem;
            max-width: 900px;
            margin: 0 auto;
            opacity: 0.9;
        }
        
        .fbi-subtitle strong {
            color: var(--fbi-success);
            font-weight: bold;
        }
        
        /* Main Container */
        .fbi-container {
            background: rgba(10, 10, 26, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid var(--fbi-blue);
            position: relative;
            box-shadow: 0 0 20px rgba(0, 48, 135, 0.3);
        }
        
        .fbi-container::before {
            content: "FBI TRACKING SYSTEM";
            position: absolute;
            top: -12px;
            left: 30px;
            background: var(--fbi-dark);
            padding: 0 15px;
            color: var(--fbi-gold);
            font-size: 1.2rem;
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        /* Input Section */
        .fbi-input-section {
            background: rgba(0, 48, 135, 0.1);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--fbi-blue);
            position: relative;
            overflow: hidden;
        }
        
        .fbi-input-section::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--fbi-blue), var(--fbi-red), var(--fbi-gold));
            animation: scanning 3s linear infinite;
        }
        
        @keyframes scanning {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        input[type="text"] {
            flex-grow: 1;
            padding: 18px 25px;
            border-radius: 8px;
            border: 2px solid var(--fbi-blue);
            background: rgba(0, 0, 0, 0.5);
            color: var(--fbi-light);
            font-size: 16px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
            box-shadow: 0 0 10px rgba(0, 48, 135, 0.3) inset;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: var(--fbi-gold);
            box-shadow: 
                0 0 20px rgba(255, 215, 0, 0.3) inset,
                0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .fbi-btn {
            background: linear-gradient(135deg, var(--fbi-blue), #0047ab);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            font-family: 'Courier New', monospace;
        }
        
        .fbi-btn:hover {
            background: linear-gradient(135deg, var(--fbi-red), #d62839);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(196, 30, 58, 0.4);
        }
        
        .fbi-btn:active {
            transform: translateY(0);
        }
        
        .fbi-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .fbi-btn:hover::before {
            left: 100%;
        }
        
        .fbi-btn-secondary {
            background: rgba(255, 215, 0, 0.1);
            color: var(--fbi-gold);
            border: 2px solid var(--fbi-gold);
        }
        
        .fbi-btn-secondary:hover {
            background: rgba(255, 215, 0, 0.3);
        }
        
        /* Tabs */
        .fbi-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--fbi-blue);
        }
        
        .fbi-tab-btn {
            padding: 12px 25px;
            background: rgba(0, 48, 135, 0.2);
            color: var(--fbi-light);
            border: 1px solid var(--fbi-blue);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            min-width: 150px;
            justify-content: center;
            font-family: 'Courier New', monospace;
        }
        
        .fbi-tab-btn:hover {
            background: rgba(0, 48, 135, 0.4);
            border-color: var(--fbi-gold);
        }
        
        .fbi-tab-btn.active {
            background: linear-gradient(135deg, var(--fbi-blue), var(--fbi-red));
            color: white;
            border-color: var(--fbi-gold);
            box-shadow: 0 0 15px rgba(0, 48, 135, 0.5);
        }
        
        /* Tab Content */
        .fbi-tab-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fbi-tab-content.active {
            display: block;
        }
        
        /* Info Cards */
        .fbi-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .fbi-info-card {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 25px;
            border: 1px solid var(--fbi-blue);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .fbi-info-card:hover {
            border-color: var(--fbi-gold);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
            transform: translateY(-5px);
        }
        
        .fbi-info-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--fbi-blue), var(--fbi-red));
        }
        
        .fbi-info-card h3 {
            color: var(--fbi-gold);
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid rgba(0, 48, 135, 0.5);
            padding-bottom: 10px;
        }
        
        .fbi-info-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .fbi-info-row:last-child {
            border-bottom: none;
        }
        
        .fbi-label {
            color: #a0a0c0;
            font-weight: 500;
            min-width: 150px;
        }
        
        .fbi-value {
            color: white;
            font-weight: 500;
            text-align: right;
            max-width: 60%;
            word-break: break-word;
            font-family: 'Courier New', monospace;
        }
        
        /* Map Container - MELHORADO */
        .fbi-map-container {
            height: 550px;
            border-radius: 10px;
            overflow: hidden;
            margin: 30px 0;
            border: 3px solid var(--fbi-blue);
            box-shadow: 0 0 30px rgba(0, 48, 135, 0.5);
            position: relative;
        }
        
        #fbi-map {
            height: 100%;
            width: 100%;
            background: var(--fbi-dark);
        }
        
        .map-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.85);
            padding: 12px 20px;
            border-radius: 8px;
            border: 2px solid var(--fbi-gold);
            color: var(--fbi-gold);
            font-size: 0.9rem;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .map-controls {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.85);
            padding: 10px;
            border-radius: 8px;
            border: 2px solid var(--fbi-blue);
            display: flex;
            gap: 8px;
            backdrop-filter: blur(10px);
        }
        
        .map-control-btn {
            background: rgba(0, 48, 135, 0.3);
            color: var(--fbi-light);
            border: 1px solid var(--fbi-blue);
            border-radius: 5px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .map-control-btn:hover {
            background: rgba(0, 48, 135, 0.6);
            border-color: var(--fbi-gold);
        }
        
        .map-control-btn.active {
            background: var(--fbi-blue);
            color: white;
            border-color: var(--fbi-gold);
        }
        
        /* FBI Map Legend */
        .map-legend {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid var(--fbi-red);
            color: var(--fbi-light);
            font-size: 0.8rem;
            z-index: 1000;
            max-width: 200px;
            backdrop-filter: blur(10px);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
        }
        
        .legend-fbi {
            background: var(--fbi-red);
            border: 2px solid var(--fbi-gold);
        }
        
        .legend-precision {
            background: rgba(255, 215, 0, 0.3);
            border: 2px dashed var(--fbi-gold);
        }
        
        /* Loader */
        .fbi-loader {
            display: none;
            text-align: center;
            padding: 60px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            border: 2px solid var(--fbi-blue);
            margin: 30px 0;
        }
        
        .fbi-spinner {
            border: 5px solid rgba(0, 48, 135, 0.3);
            border-top: 5px solid var(--fbi-gold);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        .fbi-loader-text {
            color: var(--fbi-gold);
            font-size: 1.2rem;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
            animation: blink 1.5s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Status Indicators */
        .fbi-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .status-safe {
            background: rgba(0, 255, 153, 0.1);
            color: var(--fbi-success);
            border: 1px solid var(--fbi-success);
        }
        
        .status-warning {
            background: rgba(255, 165, 0, 0.1);
            color: var(--fbi-warning);
            border: 1px solid var(--fbi-warning);
        }
        
        .status-danger {
            background: rgba(255, 71, 87, 0.1);
            color: var(--fbi-danger);
            border: 1px solid var(--fbi-danger);
        }
        
        .status-info {
            background: rgba(0, 48, 135, 0.1);
            color: var(--fbi-blue);
            border: 1px solid var(--fbi-blue);
        }
        
        /* Tools Section */
        .fbi-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .fbi-tool-btn {
            background: rgba(0, 48, 135, 0.2);
            color: white;
            border: 1px solid var(--fbi-blue);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            text-align: center;
        }
        
        .fbi-tool-btn:hover {
            background: rgba(0, 48, 135, 0.4);
            border-color: var(--fbi-gold);
            transform: translateY(-3px);
        }
        
        .fbi-tool-btn i {
            font-size: 2rem;
            color: var(--fbi-gold);
        }
        
        /* Footer */
        .fbi-footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid var(--fbi-blue);
            color: #a0a0c0;
            font-size: 0.9rem;
        }
        
        .fbi-footer a {
            color: var(--fbi-gold);
            text-decoration: none;
            margin: 0 10px;
        }
        
        .fbi-footer a:hover {
            text-decoration: underline;
            color: var(--fbi-success);
        }
        
        /* Warning Box */
        .fbi-warning {
            background: rgba(196, 30, 58, 0.1);
            border: 2px solid var(--fbi-red);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .fbi-warning::before {
            content: "‚ö†Ô∏è AVISO OFICIAL";
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--fbi-dark);
            padding: 0 15px;
            color: var(--fbi-red);
            font-weight: bold;
            font-size: 1rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .fbi-title {
                font-size: 2rem;
            }
            
            .fbi-subtitle {
                font-size: 1rem;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .fbi-info-grid {
                grid-template-columns: 1fr;
            }
            
            .fbi-tab-btn {
                min-width: 120px;
            }
            
            .fbi-map-container {
                height: 400px;
            }
            
            .map-controls {
                flex-wrap: wrap;
            }
            
            .map-overlay, .map-legend {
                font-size: 0.7rem;
                padding: 8px 12px;
            }
        }
        
        @media (max-width: 480px) {
            .fbi-title {
                font-size: 1.8rem;
            }
            
            .fbi-btn {
                padding: 15px;
                font-size: 14px;
            }
            
            .fbi-tab-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .fbi-map-container {
                height: 350px;
            }
        }
        
        /* Terminal Effect */
        .terminal-text {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 5px;
            border-left: 3px solid var(--fbi-success);
            margin: 10px 0;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        /* Counter Animation */
        .fbi-counter {
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            color: var(--fbi-success);
            font-weight: bold;
            text-shadow: 0 0 10px var(--fbi-success);
            animation: counterPulse 2s infinite;
        }
        
        @keyframes counterPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* IP Display */
        .ip-display {
            font-family: 'Courier New', monospace;
            font-size: 2.5rem;
            color: var(--fbi-gold);
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            border: 2px solid var(--fbi-blue);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            letter-spacing: 2px;
            animation: ipGlow 3s infinite alternate;
        }
        
        @keyframes ipGlow {
            from { box-shadow: 0 0 20px rgba(0, 48, 135, 0.3); }
            to { box-shadow: 0 0 40px rgba(0, 48, 135, 0.6); }
        }
        
        /* Anima√ß√£o do Marcador FBI */
        @keyframes pulseMarker {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Estilo customizado para popup do Leaflet */
        .leaflet-popup-content-wrapper {
            background: var(--fbi-dark) !important;
            color: var(--fbi-light) !important;
            border: 2px solid var(--fbi-gold) !important;
            border-radius: 8px !important;
        }
        
        .leaflet-popup-tip {
            background: var(--fbi-gold) !important;
        }
        
        .leaflet-control-attribution {
            background: rgba(0, 0, 0, 0.7) !important;
            color: var(--fbi-light) !important;
            font-size: 11px !important;
        }
    </style>
    
    <!-- Google Analytics GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MCNWEQ8XMH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-MCNWEQ8XMH');
    </script>
</head>

<body>
    <!-- FBI HEADER -->
    <header class="fbi-header">
        <div class="fbi-badge">
            <i class="fas fa-shield-alt"></i>
            SISTEMA OFICIAL FBI
        </div>
        
        <h1 class="fbi-title">
            <i class="fas fa-satellite-dish"></i>
            FBI <span>IP TRACKER</span>
        </h1>
        
        <p class="fbi-subtitle">
            <strong>üö® SISTEMA DE RASTREAMENTO DE IP OFICIAL</strong> - Tecnologia utilizada pelo Federal Bureau of Investigation 
            para localiza√ß√£o precisa e rastreamento avan√ßado de endere√ßos IP em tempo real.
        </p>
        
        <div style="margin-top: 20px; color: #a0a0c0; font-size: 0.9rem;">
            <i class="fas fa-exclamation-triangle"></i> Sistema 100% funcional | Geolocaliza√ß√£o ativa | An√°lise em tempo real
        </div>
    </header>
    
    <!-- WARNING BOX -->
    <div class="fbi-warning">
        <p><i class="fas fa-exclamation-circle"></i> <strong>ATEN√á√ÉO:</strong> Este sistema utiliza tecnologia oficial do FBI para rastreamento de IPs. 
        O uso indevido para atividades ilegais √© estritamente proibido e monitorado.</p>
        <p style="margin-top: 10px; font-size: 0.9rem;">
            <i class="fas fa-check-circle" style="color: var(--fbi-success);"></i> Sistema verificado e operacional
            <span style="margin: 0 10px;">|</span>
            <i class="fas fa-user-shield" style="color: var(--fbi-gold);"></i> Conex√£o criptografada
            <span style="margin: 0 10px;">|</span>
            <i class="fas fa-bolt" style="color: var(--fbi-success);"></i> Processamento em tempo real
        </p>
    </div>
    
    <!-- MAIN CONTAINER -->
    <div class="fbi-container">
        <!-- INPUT SECTION -->
        <div class="fbi-input-section">
            <div class="input-group">
                <input type="text" id="fbi-ip-input" placeholder="DIGITE O ENDERE√áO IP PARA RASTREAR (ex: 8.8.8.8) ou deixe vazio para seu IP">
                <button class="fbi-btn" onclick="fbiTrackIP()">
                    <i class="fas fa-crosshairs"></i> INICIAR RASTREAMENTO
                </button>
                <button class="fbi-btn fbi-btn-secondary" onclick="document.getElementById('fbi-ip-input').value = ''; fbiTrackIP()">
                    <i class="fas fa-user-secret"></i> MEU IP
                </button>
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                <button class="fbi-btn-secondary" onclick="fbiGenerateRandomIP()">
                    <i class="fas fa-random"></i> IP ALEAT√ìRIO
                </button>
                <button class="fbi-btn-secondary" onclick="fbiScanNetwork()">
                    <i class="fas fa-network-wired"></i> ESCANEAR REDE
                </button>
                <button class="fbi-btn-secondary" onclick="fbiEmergencyTrace()">
                    <i class="fas fa-broadcast-tower"></i> RASTREAMENTO URGENTE
                </button>
            </div>
        </div>
        
        <!-- LOADER -->
        <div class="fbi-loader" id="fbi-loader">
            <div class="fbi-spinner"></div>
            <p class="fbi-loader-text">INICIALIZANDO SISTEMA FBI...</p>
            <p style="color: #a0a0c0; margin-top: 10px; font-size: 0.9rem;">
                Conectando aos servidores do FBI...<br>
                Estabelecendo conex√£o segura...<br>
                <span id="fbi-status-text">Carregando m√≥dulos de rastreamento</span>
            </p>
        </div>
        
        <!-- RESULTS SECTION -->
        <div id="fbi-results" style="display: none;">
            <!-- IP DISPLAY -->
            <div class="ip-display" id="fbi-ip-display">
                <span id="ip-value">--.--.--.--</span>
            </div>
            
            <!-- TABS -->
            <div class="fbi-tabs">
                <button class="fbi-tab-btn active" onclick="fbiSwitchTab('geolocation')">
                    <i class="fas fa-map-marker-alt"></i> GEOLOCALIZA√á√ÉO
                </button>
                <button class="fbi-tab-btn" onclick="fbiSwitchTab('network')">
                    <i class="fas fa-server"></i> INFORMA√á√ïES DE REDE
                </button>
                <button class="fbi-tab-btn" onclick="fbiSwitchTab('security')">
                    <i class="fas fa-shield-alt"></i> AN√ÅLISE DE SEGURAN√áA
                </button>
                <button class="fbi-tab-btn" onclick="fbiSwitchTab('tools')">
                    <i class="fas fa-tools"></i> FERRAMENTAS FBI
                </button>
                <button class="fbi-tab-btn" onclick="fbiSwitchTab('report')">
                    <i class="fas fa-file-alt"></i> RELAT√ìRIO COMPLETO
                </button>
            </div>
            
            <!-- TAB CONTENT -->
            <!-- Geolocation Tab -->
            <div id="geolocation" class="fbi-tab-content active">
                <div class="fbi-info-grid">
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-info-circle"></i> INFORMA√á√ïES B√ÅSICAS</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Endere√ßo IP:</span>
                            <span class="fbi-value" id="geo-ip">--.--.--.--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Tipo:</span>
                            <span class="fbi-value" id="geo-type">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Status:</span>
                            <span class="fbi-value" id="geo-status">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">√öltima Atividade:</span>
                            <span class="fbi-value" id="geo-last-seen">--</span>
                        </div>
                    </div>
                    
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-globe-americas"></i> LOCALIZA√á√ÉO</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Pa√≠s:</span>
                            <span class="fbi-value" id="geo-country">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Cidade/Estado:</span>
                            <span class="fbi-value" id="geo-city">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">C√≥digo Postal:</span>
                            <span class="fbi-value" id="geo-zip">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Fuso Hor√°rio:</span>
                            <span class="fbi-value" id="geo-timezone">--</span>
                        </div>
                    </div>
                    
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-satellite"></i> COORDENADAS</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Latitude:</span>
                            <span class="fbi-value" id="geo-lat">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Longitude:</span>
                            <span class="fbi-value" id="geo-lon">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Precis√£o:</span>
                            <span class="fbi-value" id="geo-accuracy">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Altitude:</span>
                            <span class="fbi-value" id="geo-altitude">--</span>
                        </div>
                    </div>
                </div>
                
                <!-- MAPA FBI COM CONTROLES -->
                <h3 style="color: var(--fbi-gold); margin: 30px 0 15px;">
                    <i class="fas fa-map"></i> MAPA DE GEOLOCALIZA√á√ÉO FBI
                </h3>
                <div class="fbi-map-container">
                    <div id="fbi-map"></div>
                    
                    <!-- Controles do Mapa -->
                    <div class="map-controls">
                        <button class="map-control-btn active" onclick="switchMapLayer('street')">
                            <i class="fas fa-map"></i> Rua
                        </button>
                        <button class="map-control-btn" onclick="switchMapLayer('satellite')">
                            <i class="fas fa-satellite"></i> Sat√©lite
                        </button>
                        <button class="map-control-btn" onclick="switchMapLayer('terrain')">
                            <i class="fas fa-mountain"></i> Terreno
                        </button>
                        <button class="map-control-btn" onclick="centerOnMarker()">
                            <i class="fas fa-crosshairs"></i> Centralizar
                        </button>
                        <button class="map-control-btn" onclick="zoomToIP()">
                            <i class="fas fa-search-location"></i> Zoom
                        </button>
                    </div>
                    
                    <!-- Overlay do Mapa -->
                    <div class="map-overlay">
                        <i class="fas fa-crosshairs"></i> LOCALIZA√á√ÉO ATIVA - SISTEMA FBI
                    </div>
                    
                    <!-- Legenda do Mapa -->
                    <div class="map-legend">
                        <strong><i class="fas fa-key"></i> LEGENDA FBI:</strong>
                        <div class="legend-item">
                            <div class="legend-color legend-fbi"></div>
                            <span>Marcador FBI</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color legend-precision"></div>
                            <span>√Årea de Precis√£o</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Network Tab -->
            <div id="network" class="fbi-tab-content">
                <div class="fbi-info-grid">
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-network-wired"></i> PROVEDOR & CONEX√ÉO</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">ISP (Provedor):</span>
                            <span class="fbi-value" id="net-isp">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">ASN:</span>
                            <span class="fbi-value" id="net-asn">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Organiza√ß√£o:</span>
                            <span class="fbi-value" id="net-org">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Dom√≠nio:</span>
                            <span class="fbi-value" id="net-domain">--</span>
                        </div>
                    </div>
                    
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-wifi"></i> CONEX√ÉO & ROTEAMENTO</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">IP P√∫blico:</span>
                            <span class="fbi-value" id="net-public-ip">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Proxy Detectado:</span>
                            <span class="fbi-value" id="net-proxy">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">VPN Detectada:</span>
                            <span class="fbi-value" id="net-vpn">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Conex√£o TOR:</span>
                            <span class="fbi-value" id="net-tor">--</span>
                        </div>
                    </div>
                    
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-tachometer-alt"></i> DESEMPENHO</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Ping (Lat√™ncia):</span>
                            <span class="fbi-value" id="net-ping">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Velocidade Download:</span>
                            <span class="fbi-value" id="net-download">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Velocidade Upload:</span>
                            <span class="fbi-value" id="net-upload">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Jitter:</span>
                            <span class="fbi-value" id="net-jitter">--</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Security Tab -->
            <div id="security" class="fbi-tab-content">
                <div class="fbi-info-grid">
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-shield-alt"></i> STATUS DE SEGURAN√áA</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">N√≠vel de Amea√ßa:</span>
                            <span class="fbi-value" id="sec-threat-level">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">IP Malicioso:</span>
                            <span class="fbi-value" id="sec-malicious">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Score de Risco:</span>
                            <span class="fbi-value" id="sec-risk-score">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Status no FBI:</span>
                            <span class="fbi-value" id="sec-fbi-status">--</span>
                        </div>
                    </div>
                    
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-exclamation-triangle"></i> DETEC√á√ïES</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Em Listas Negras:</span>
                            <span class="fbi-value" id="sec-blacklist">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Amea√ßas Conhecidas:</span>
                            <span class="fbi-value" id="sec-threats">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Atividades Suspeitas:</span>
                            <span class="fbi-value" id="sec-suspicious">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">√öltima Verifica√ß√£o:</span>
                            <span class="fbi-value" id="sec-last-check">--</span>
                        </div>
                    </div>
                    
                    <div class="fbi-info-card">
                        <h3><i class="fas fa-user-secret"></i> ANONIMIDADE</h3>
                        <div class="fbi-info-row">
                            <span class="fbi-label">Proxy Ativo:</span>
                            <span class="fbi-value" id="sec-proxy-active">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">VPN Ativa:</span>
                            <span class="fbi-value" id="sec-vpn-active">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">N√≥ TOR:</span>
                            <span class="fbi-value" id="sec-tor-node">--</span>
                        </div>
                        <div class="fbi-info-row">
                            <span class="fbi-label">N√≠vel de Anonimato:</span>
                            <span class="fbi-value" id="sec-anonymity">--</span>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(196, 30, 58, 0.1); border: 1px solid var(--fbi-red); border-radius: 10px; padding: 20px; margin-top: 30px;">
                    <h4 style="color: var(--fbi-red); margin-bottom: 15px;">
                        <i class="fas fa-skull-crossbones"></i> RELAT√ìRIO DE AMEA√áAS
                    </h4>
                    <div id="sec-threat-report" style="color: #a0a0c0; font-size: 0.9rem; line-height: 1.6;">
                        Carregando an√°lise de amea√ßas...
                    </div>
                </div>
            </div>
            
            <!-- Tools Tab -->
            <div id="tools" class="fbi-tab-content">
                <h3 style="color: var(--fbi-gold); margin-bottom: 20px;">
                    <i class="fas fa-tools"></i> FERRAMENTAS DE RASTREAMENTO FBI
                </h3>
                
                <div class="fbi-tools-grid">
                    <button class="fbi-tool-btn" onclick="fbiToolPing()">
                        <i class="fas fa-satellite-dish"></i>
                        <span>TESTE DE PING</span>
                        <small>Verificar conectividade</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolPortScan()">
                        <i class="fas fa-door-open"></i>
                        <span>ESCANEAR PORTAS</span>
                        <small>Verificar portas abertas</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolTraceRoute()">
                        <i class="fas fa-route"></i>
                        <span>TRACEROUTE</span>
                        <small>Mapear rota do IP</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolDNSLookup()">
                        <i class="fas fa-search"></i>
                        <span>DNS LOOKUP</span>
                        <small>Consultar registros DNS</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolWhois()">
                        <i class="fas fa-database"></i>
                        <span>WHOIS</span>
                        <small>Informa√ß√µes do registro</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolExport()">
                        <i class="fas fa-file-export"></i>
                        <span>EXPORTAR RELAT√ìRIO</span>
                        <small>Gerar relat√≥rio PDF</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolMonitor()">
                        <i class="fas fa-eye"></i>
                        <span>MONITORAR IP</span>
                        <small>Monitoramento cont√≠nuo</small>
                    </button>
                    
                    <button class="fbi-tool-btn" onclick="fbiToolCompare()">
                        <i class="fas fa-balance-scale"></i>
                        <span>COMPARAR IPS</span>
                        <small>An√°lise comparativa</small>
                    </button>
                </div>
                
                <div id="tools-result" style="margin-top: 30px; min-height: 100px; padding: 20px; background: rgba(0, 0, 0, 0.5); border-radius: 10px; border: 1px solid var(--fbi-blue);">
                    <p style="color: #a0a0c0; text-align: center;">
                        <i class="fas fa-mouse-pointer"></i> Selecione uma ferramenta acima para come√ßar
                    </p>
                </div>
            </div>
            
            <!-- Report Tab -->
            <div id="report" class="fbi-tab-content">
                <h3 style="color: var(--fbi-gold); margin-bottom: 20px;">
                    <i class="fas fa-file-alt"></i> RELAT√ìRIO COMPLETO DO FBI
                </h3>
                
                <div class="terminal-text" id="fbi-full-report">
                    === RELAT√ìRIO DO FBI - SISTEMA DE RASTREAMENTO DE IP ===
                    Data/Hora: Aguardando dados...
                    ID do Caso: FBI-IP-000000
                    Status do Caso: AGUARDANDO AN√ÅLISE
                    ============================================
                    
                    [INFORMA√á√ïES DO IP]
                    Endere√ßo IP: Aguardando dados...
                    Tipo: Aguardando dados...
                    Status: Aguardando dados...
                    
                    [GEOLOCALIZA√á√ÉO]
                    Pa√≠s: Aguardando dados...
                    Cidade/Estado: Aguardando dados...
                    Coordenadas: Aguardando dados...
                    
                    [INFORMA√á√ïES DE REDE]
                    ISP: Aguardando dados...
                    ASN: Aguardando dados...
                    Conex√£o: Aguardando dados...
                    
                    [AN√ÅLISE DE SEGURAN√áA]
                    N√≠vel de Amea√ßa: Aguardando dados...
                    Status no FBI: Aguardando dados...
                    Observa√ß√µes: Aguardando dados...
                    
                    ============================================
                    RELAT√ìRIO GERADO AUTOMATICAMENTE PELO SISTEMA FBI
                    Sistema: FBI IP Tracking System v3.0
                    Agente Respons√°vel: Sistema Automatizado
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                    <button class="fbi-btn" onclick="fbiGenerateReport()">
                        <i class="fas fa-file-pdf"></i> GERAR RELAT√ìRIO PDF
                    </button>
                    <button class="fbi-btn fbi-btn-secondary" onclick="fbiPrintReport()">
                        <i class="fas fa-print"></i> IMPRIMIR RELAT√ìRIO
                    </button>
                    <button class="fbi-btn fbi-btn-secondary" onclick="fbiShareReport()">
                        <i class="fas fa-share-alt"></i> COMPARTILHAR
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- FBI FOOTER -->
    <div class="fbi-footer">
        <p>
            <i class="fas fa-shield-alt"></i> FBI IP TRACKING SYSTEM v3.0 | 
            <span class="fbi-counter" id="live-counter">1,247,893</span> rastreamentos realizados
        </p>
        <p style="margin-top: 10px; font-size: 0.8rem; color: #666;">
            <strong>AVISO LEGAL:</strong> Este sistema √© para fins educacionais e de demonstra√ß√£o. 
            N√£o possui afilia√ß√£o oficial com o Federal Bureau of Investigation.
        </p>
        <p style="margin-top: 15px;">
            <a href="#"><i class="fas fa-home"></i> P√°gina Inicial</a> |
            <a href="#"><i class="fas fa-question-circle"></i> Ajuda</a> |
            <a href="#"><i class="fas fa-shield-alt"></i> Privacidade</a> |
            <a href="#"><i class="fas fa-envelope"></i> Contato</a>
        </p>
    </div>

    <!-- Leaflet JS para mapa -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Leaflet Extra Layers -->
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    
    <!-- FBI TRACKING SCRIPT COM MAPA COMPLETO -->
    <script>
        // ============================================
        // üö® SISTEMA FBI DE RASTREAMENTO DE IP
        // ============================================
        
        // Vari√°veis globais
        let fbiMap = null;
        let fbiMarker = null;
        let fbiData = {};
        let fbiTrackingActive = false;
        let currentMapLayer = 'street';
        let mapLayers = {};
        
        // Constantes do sistema
        const FBI_VERSION = "3.0.0";
        const FBI_SYSTEM_NAME = "FBI IP Tracking System";
        
        // Inicializar sistema
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar contador
            startFBICounter();
            
            // Configurar evento Enter
            document.getElementById('fbi-ip-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    fbiTrackIP();
                }
            });
            
            // Mostrar mensagem inicial
            setTimeout(() => {
                fbiShowNotification("üö® Sistema FBI inicializado com sucesso!", "success");
            }, 1000);
            
            // Iniciar com IP do usu√°rio
            setTimeout(() => {
                fbiTrackIP();
            }, 2000);
            
            // Track no Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'fbi_system_load', {
                    'event_category': 'system',
                    'event_label': FBI_SYSTEM_NAME
                });
            }
        });
        
        // ============================================
        // üéØ FUN√á√ÉO PRINCIPAL DE RASTREAMENTO
        // ============================================
        async function fbiTrackIP() {
            const ipInput = document.getElementById('fbi-ip-input').value.trim();
            const loader = document.getElementById('fbi-loader');
            const results = document.getElementById('fbi-results');
            const statusText = document.getElementById('fbi-status-text');
            
            // Mostrar loader
            loader.style.display = 'block';
            results.style.display = 'none';
            fbiTrackingActive = true;
            
            // Simular inicializa√ß√£o do sistema FBI
            const statusMessages = [
                "Conectando aos servidores do FBI...",
                "Estabelecendo conex√£o segura...",
                "Carregando m√≥dulos de rastreamento...",
                "Acessando banco de dados de IPs...",
                "Inicializando sistema de geolocaliza√ß√£o..."
            ];
            
            let statusIndex = 0;
            const statusInterval = setInterval(() => {
                statusText.textContent = statusMessages[statusIndex];
                statusIndex = (statusIndex + 1) % statusMessages.length;
            }, 800);
            
            try {
                let ipToTrack = ipInput || '';
                let data = null;
                
                // Tentar m√∫ltiplos servi√ßos de API
                try {
                    // Primeiro tentar ipapi.co
                    const response = await fetch(`https://ipapi.co/${ipToTrack}/json/`);
                    if (response.ok) {
                        data = await response.json();
                        if (data.error) throw new Error(data.reason);
                    }
                } catch (e1) {
                    console.log('ipapi.co falhou, tentando fallback...');
                    
                    // Se falhar, usar dados simulados
                    data = await fbiGetSimulatedData(ipToTrack);
                }
                
                // Armazenar dados
                fbiData = data;
                
                // Atualizar interface
                updateFBIInterface(data);
                
                // Inicializar ou atualizar mapa
                fbiInitializeMap(data.latitude, data.longitude, data.city, data.country_name);
                
                // Gerar relat√≥rio
                fbiGenerateFullReport(data);
                
                // Esconder loader e mostrar resultados
                clearInterval(statusInterval);
                loader.style.display = 'none';
                results.style.display = 'block';
                
                // Scroll para resultados
                results.scrollIntoView({ behavior: 'smooth', block: 'start' });
                
                // Mostrar notifica√ß√£o
                fbiShowNotification(`‚úÖ IP ${data.ip} rastreado com sucesso!`, "success");
                
                // Track no Google Analytics
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'ip_tracked', {
                        'event_category': 'tracking',
                        'event_label': data.ip,
                        'value': 1
                    });
                }
                
            } catch (error) {
                console.error('Erro no rastreamento FBI:', error);
                
                clearInterval(statusInterval);
                loader.style.display = 'none';
                
                // Mostrar erro
                fbiShowNotification(`‚ùå Erro: ${error.message}`, "danger");
                
                // Usar dados simulados como fallback
                const simulatedData = await fbiGetSimulatedData(ipInput);
                fbiData = simulatedData;
                updateFBIInterface(simulatedData);
                results.style.display = 'block';
                
                // Inicializar mapa com dados simulados
                fbiInitializeMap(simulatedData.latitude, simulatedData.longitude, simulatedData.city, simulatedData.country_name);
                
                fbiShowNotification("‚ö†Ô∏è Usando modo de demonstra√ß√£o", "warning");
            }
        }
        
        // ============================================
        // üó∫Ô∏è FUN√á√ïES DO MAPA FBI
        // ============================================
        function fbiInitializeMap(lat, lon, city, country) {
            if (!lat || !lon) {
                lat = -23.5505; // S√£o Paulo como fallback
                lon = -46.6333;
            }
            
            const latNum = parseFloat(lat);
            const lonNum = parseFloat(lon);
            
            // Se o mapa ainda n√£o existe, criar
            if (!fbiMap) {
                // Criar mapa com tema FBI
                fbiMap = L.map('fbi-map', {
                    center: [latNum, lonNum],
                    zoom: 10,
                    zoomControl: true,
                    attributionControl: true,
                    fadeAnimation: true,
                    zoomAnimation: true,
                    preferCanvas: true
                });
                
                // Adicionar camadas
                mapLayers.street = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap | Sistema FBI',
                    maxZoom: 19,
                    id: 'osm.streets'
                });
                
                mapLayers.satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                    attribution: '¬© Esri | Sistema FBI',
                    maxZoom: 18
                });
                
                mapLayers.terrain = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenTopoMap | Sistema FBI',
                    maxZoom: 17
                });
                
                // Adicionar layer padr√£o
                mapLayers.street.addTo(fbiMap);
                currentMapLayer = 'street';
                
                // Adicionar controle de camadas
                L.control.layers({
                    "Mapa de Rua": mapLayers.street,
                    "Imagem de Sat√©lite": mapLayers.satellite,
                    "Mapa de Terreno": mapLayers.terrain
                }).addTo(fbiMap);
                
                // Adicionar controle de escala
                L.control.scale({
                    imperial: false,
                    metric: true
                }).addTo(fbiMap);
                
                // Configurar atribui√ß√£o
                fbiMap.attributionControl.setPrefix('<i class="fas fa-shield-alt"></i> Sistema FBI');
                
            } else {
                // Apenas atualizar a visualiza√ß√£o
                fbiMap.setView([latNum, lonNum], 10);
            }
            
            // Remover marcador anterior se existir
            if (fbiMarker) {
                fbiMap.removeLayer(fbiMarker);
            }
            
            // Criar √≠cone personalizado do FBI
            const fbiIcon = L.divIcon({
                html: `
                    <div style="
                        width: 40px;
                        height: 40px;
                        background: ${fbiData.ip ? '#c41e3a' : '#003087'};
                        border: 3px solid #ffd700;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-weight: bold;
                        font-size: 14px;
                        box-shadow: 0 0 15px rgba(196, 30, 58, 0.8);
                        animation: pulseMarker 2s infinite;
                        position: relative;
                    ">
                        <div style="
                            position: absolute;
                            top: -2px;
                            left: -2px;
                            right: -2px;
                            bottom: -2px;
                            border: 2px solid rgba(255, 215, 0, 0.5);
                            border-radius: 50%;
                            animation: pulseMarker 3s infinite;
                        "></div>
                        <span style="z-index: 2;">FBI</span>
                    </div>
                `,
                className: 'fbi-marker-icon',
                iconSize: [40, 40],
                iconAnchor: [20, 40],
                popupAnchor: [0, -40]
            });
            
            // Adicionar marcador
            fbiMarker = L.marker([latNum, lonNum], {
                icon: fbiIcon,
                title: 'Localiza√ß√£o FBI',
                alt: 'Marcador de localiza√ß√£o do FBI',
                riseOnHover: true
            }).addTo(fbiMap);
            
            // Adicionar popup informativo
            const popupContent = `
                <div style="
                    background: #0a0a1a;
                    color: white;
                    padding: 20px;
                    border: 2px solid #ffd700;
                    border-radius: 10px;
                    max-width: 300px;
                    font-family: 'Courier New', monospace;
                ">
                    <div style="
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        margin-bottom: 15px;
                        border-bottom: 1px solid rgba(255, 215, 0, 0.3);
                        padding-bottom: 10px;
                    ">
                        <div style="
                            background: #c41e3a;
                            width: 30px;
                            height: 30px;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-weight: bold;
                            border: 2px solid #ffd700;
                        ">
                            FBI
                        </div>
                        <h3 style="margin: 0; color: #ffd700; font-size: 16px;">
                            LOCALIZA√á√ÉO CONFIRMADA
                        </h3>
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <strong style="color: #00ff99;">IP RASTREADO:</strong><br>
                        <span style="font-size: 1.2rem; font-weight: bold;">${fbiData.ip || 'Desconhecido'}</span>
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <strong style="color: #00ff99;">LOCAL:</strong><br>
                        ${city || 'Desconhecida'}, ${country || 'Desconhecido'}
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <strong style="color: #00ff99;">COORDENADAS:</strong><br>
                        ${latNum.toFixed(6)}, ${lonNum.toFixed(6)}
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <strong style="color: #00ff99;">PRECIS√ÉO:</strong><br>
                        ¬± 1-5 km (Sistema FBI)
                    </div>
                    
                    <div style="
                        margin-top: 15px;
                        padding-top: 10px;
                        border-top: 1px solid rgba(255, 215, 0, 0.3);
                        font-size: 11px;
                        color: #a0a0c0;
                    ">
                        <i class="fas fa-satellite"></i> Sistema de rastreamento FBI ativo<br>
                        <i class="fas fa-shield-alt"></i> Conex√£o criptografada
                    </div>
                </div>
            `;
            
            fbiMarker.bindPopup(popupContent, {
                maxWidth: 350,
                minWidth: 300,
                autoClose: false,
                closeOnClick: false,
                className: 'fbi-popup'
            }).openPopup();
            
            // Adicionar c√≠rculo de precis√£o
            const accuracyCircle = L.circle([latNum, lonNum], {
                color: '#ffd700',
                fillColor: '#ffd700',
                fillOpacity: 0.1,
                weight: 2,
                dashArray: '10, 5',
                radius: 5000 // 5km
            }).addTo(fbiMap);
            
            // Adicionar linha de conex√£o (efeito visual)
            const connectionLine = L.polyline([
                [latNum, lonNum],
                [latNum + 0.1, lonNum + 0.1]
            ], {
                color: '#00ff99',
                weight: 2,
                opacity: 0.5,
                dashArray: '20, 10'
            }).addTo(fbiMap);
            
            // Anima√ß√£o da linha
            let dashOffset = 0;
            setInterval(() => {
                dashOffset = (dashOffset + 1) % 100;
                connectionLine.setStyle({
                    dashOffset: dashOffset
                });
            }, 50);
            
            // Adicionar evento de clique no mapa
            fbiMap.on('click', function(e) {
                const popup = L.popup()
                    .setLatLng(e.latlng)
                    .setContent(`
                        <div style="
                            background: #0a0a1a;
                            color: white;
                            padding: 15px;
                            border: 2px solid #003087;
                            border-radius: 8px;
                            font-family: 'Courier New', monospace;
                        ">
                            <strong style="color: #ffd700;">
                                <i class="fas fa-map-pin"></i> COORDENADAS:
                            </strong><br>
                            ${e.latlng.lat.toFixed(6)}, ${e.latlng.lng.toFixed(6)}<br><br>
                            <small style="color: #a0a0c0;">
                                Clique no marcador FBI para mais informa√ß√µes
                            </small>
                        </div>
                    `)
                    .openOn(fbiMap);
            });
            
            // Redimensionar mapa ap√≥s carregamento
            setTimeout(() => {
                fbiMap.invalidateSize();
            }, 100);
            
            // Track no Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'map_loaded', {
                    'event_category': 'map',
                    'event_label': 'FBI Map'
                });
            }
        }
        
        // ============================================
        // üéÆ CONTROLES DO MAPA
        // ============================================
        function switchMapLayer(layer) {
            if (!fbiMap || !mapLayers[layer]) return;
            
            // Remover layer atual
            if (mapLayers[currentMapLayer]) {
                fbiMap.removeLayer(mapLayers[currentMapLayer]);
            }
            
            // Adicionar nova layer
            mapLayers[layer].addTo(fbiMap);
            currentMapLayer = layer;
            
            // Atualizar bot√µes
            document.querySelectorAll('.map-control-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Encontrar e ativar bot√£o correspondente
            const layerText = layer === 'street' ? 'Rua' : 
                            layer === 'satellite' ? 'Sat√©lite' : 'Terreno';
            
            document.querySelectorAll('.map-control-btn').forEach(btn => {
                if (btn.textContent.includes(layerText)) {
                    btn.classList.add('active');
                }
            });
            
            fbiShowNotification(`üó∫Ô∏è Mapa alterado para: ${layerText}`, "info");
        }
        
        function centerOnMarker() {
            if (fbiMap && fbiMarker) {
                const markerLatLng = fbiMarker.getLatLng();
                fbiMap.setView(markerLatLng, 15);
                fbiMarker.openPopup();
                fbiShowNotification("üéØ Centralizado no marcador FBI", "success");
            }
        }
        
        function zoomToIP() {
            if (fbiMap && fbiMarker) {
                const markerLatLng = fbiMarker.getLatLng();
                fbiMap.setView(markerLatLng, 13, {
                    animate: true,
                    duration: 1.5
                });
                fbiShowNotification("üîç Zoom aplicado na localiza√ß√£o", "info");
            }
        }
        
        // ============================================
        // üìä FUN√á√ïES DE ATUALIZA√á√ÉO DA INTERFACE
        // ============================================
        function updateFBIInterface(data) {
            // Atualizar display do IP
            document.getElementById('ip-value').textContent = data.ip;
            document.getElementById('fbi-ip-display').style.animation = 'ipGlow 2s ease-out';
            
            // Geolocaliza√ß√£o
            document.getElementById('geo-ip').textContent = data.ip;
            document.getElementById('geo-type').textContent = `IPv${data.version || '4'}`;
            document.getElementById('geo-status').innerHTML = `<span class="fbi-status status-safe">ATIVO</span>`;
            document.getElementById('geo-last-seen').textContent = new Date().toLocaleString('pt-BR');
            document.getElementById('geo-country').textContent = `${data.country_name} (${data.country_code})`;
            document.getElementById('geo-city').textContent = `${data.city || 'Desconhecida'}, ${data.region || 'Desconhecido'}`;
            document.getElementById('geo-zip').textContent = data.postal || 'N√£o dispon√≠vel';
            document.getElementById('geo-timezone').textContent = data.timezone || 'N√£o dispon√≠vel';
            document.getElementById('geo-lat').textContent = data.latitude || 'N√£o dispon√≠vel';
            document.getElementById('geo-lon').textContent = data.longitude || 'N√£o dispon√≠vel';
            document.getElementById('geo-accuracy').textContent = '¬± 1-5 km';
            document.getElementById('geo-altitude').textContent = 'N√≠vel do mar';
            
            // Rede
            document.getElementById('net-isp').textContent = data.org || 'N√£o identificado';
            document.getElementById('net-asn').textContent = data.asn || 'AS00000';
            document.getElementById('net-org').textContent = data.org || 'N√£o identificado';
            document.getElementById('net-domain').textContent = fbiExtractDomain(data.org) || 'N√£o dispon√≠vel';
            document.getElementById('net-public-ip').textContent = data.ip;
            document.getElementById('net-proxy').innerHTML = fbiCheckProxy(data.ip) ? 
                '<span class="fbi-status status-warning">DETECTADO</span>' : 
                '<span class="fbi-status status-safe">N√ÉO DETECTADO</span>';
            document.getElementById('net-vpn').innerHTML = fbiCheckVPN(data.ip) ? 
                '<span class="fbi-status status-warning">DETECTADA</span>' : 
                '<span class="fbi-status status-safe">N√ÉO DETECTADA</span>';
            document.getElementById('net-tor').innerHTML = fbiCheckTOR(data.ip) ? 
                '<span class="fbi-status status-danger">DETECTADO</span>' : 
                '<span class="fbi-status status-safe">N√ÉO DETECTADO</span>';
            
            // Performance (simulada)
            const ping = Math.floor(Math.random() * 100) + 20;
            const download = (Math.random() * 100 + 50).toFixed(1);
            const upload = (Math.random() * 50 + 10).toFixed(1);
            const jitter = (Math.random() * 10 + 1).toFixed(1);
            
            document.getElementById('net-ping').textContent = `${ping} ms`;
            document.getElementById('net-download').textContent = `${download} Mbps`;
            document.getElementById('net-upload').textContent = `${upload} Mbps`;
            document.getElementById('net-jitter').textContent = `${jitter} ms`;
            
            // Seguran√ßa
            const threatLevel = fbiCalculateThreatLevel(data.ip);
            const riskScore = fbiCalculateRiskScore(data.ip);
            
            document.getElementById('sec-threat-level').innerHTML = 
                `<span class="fbi-status ${threatLevel.class}">${threatLevel.text}</span>`;
            document.getElementById('sec-malicious').innerHTML = fbiCheckMalicious(data.ip) ? 
                '<span class="fbi-status status-danger">SIM</span>' : 
                '<span class="fbi-status status-safe">N√ÉO</span>';
            document.getElementById('sec-risk-score').innerHTML = 
                `<span class="fbi-status ${riskScore > 70 ? 'status-danger' : riskScore > 40 ? 'status-warning' : 'status-safe'}">${riskScore}/100</span>`;
            document.getElementById('sec-fbi-status').innerHTML = 
                '<span class="fbi-status status-info">EM AN√ÅLISE</span>';
            
            document.getElementById('sec-blacklist').textContent = fbiCheckBlacklist(data.ip) ? 'Em 0 listas' : 'N√£o listado';
            document.getElementById('sec-threats').textContent = 'Nenhuma conhecida';
            document.getElementById('sec-suspicious').textContent = 'Nenhuma atividade';
            document.getElementById('sec-last-check').textContent = new Date().toLocaleString('pt-BR');
            
            document.getElementById('sec-proxy-active').innerHTML = fbiCheckProxy(data.ip) ? 
                '<span class="fbi-status status-warning">SIM</span>' : 
                '<span class="fbi-status status-safe">N√ÉO</span>';
            document.getElementById('sec-vpn-active').innerHTML = fbiCheckVPN(data.ip) ? 
                '<span class="fbi-status status-warning">SIM</span>' : 
                '<span class="fbi-status status-safe">N√ÉO</span>';
            document.getElementById('sec-tor-node').innerHTML = fbiCheckTOR(data.ip) ? 
                '<span class="fbi-status status-danger">SIM</span>' : 
                '<span class="fbi-status status-safe">N√ÉO</span>';
            document.getElementById('sec-anonymity').innerHTML = 
                `<span class="fbi-status ${fbiCheckAnonymity(data.ip) ? 'status-warning' : 'status-safe'}">${fbiCheckAnonymity(data.ip) ? 'ALTO' : 'BAIXO'}</span>`;
            
            // Atualizar relat√≥rio de amea√ßas
            updateThreatReport(data.ip);
        }
        
        // ============================================
        // üîß FUN√á√ïES AUXILIARES
        // ============================================
        async function fbiGetSimulatedData(ip) {
            // Gerar dados simulados realistas
            const isIPv4 = !ip || ip.includes('.');
            const randomIP = ip || fbiGenerateRandomIP();
            
            const cities = [
                { city: "S√£o Paulo", region: "SP", country: "Brasil", lat: -23.5505, lon: -46.6333 },
                { city: "Rio de Janeiro", region: "RJ", country: "Brasil", lat: -22.9068, lon: -43.1729 },
                { city: "Bras√≠lia", region: "DF", country: "Brasil", lat: -15.7975, lon: -47.8919 },
                { city: "Miami", region: "FL", country: "Estados Unidos", lat: 25.7617, lon: -80.1918 },
                { city: "Nova York", region: "NY", country: "Estados Unidos", lat: 40.7128, lon: -74.0060 }
            ];
            
            const isps = [
                "Claro NET",
                "Vivo Fibra",
                "TIM Brasil",
                "Comcast",
                "Verizon",
                "AT&T",
                "Google Fiber"
            ];
            
            const selectedCity = cities[Math.floor(Math.random() * cities.length)];
            
            return {
                ip: randomIP,
                version: isIPv4 ? "4" : "6",
                city: selectedCity.city,
                region: selectedCity.region,
                country_name: selectedCity.country,
                country_code: selectedCity.country === "Brasil" ? "BR" : "US",
                postal: Math.floor(10000 + Math.random() * 90000).toString(),
                latitude: selectedCity.lat + (Math.random() * 0.5 - 0.25),
                longitude: selectedCity.lon + (Math.random() * 0.5 - 0.25),
                timezone: "America/Sao_Paulo",
                org: isps[Math.floor(Math.random() * isps.length)],
                asn: `AS${Math.floor(10000 + Math.random() * 90000)}`
            };
        }
        
        function fbiGenerateRandomIP() {
            // Gerar IP aleat√≥rio realista
            const types = [
                () => `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,
                () => `10.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,
                () => `172.${16 + Math.floor(Math.random() * 16)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`,
                () => `${Math.floor(Math.random() * 223) + 1}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`
            ];
            
            return types[Math.floor(Math.random() * types.length)]();
        }
        
        function fbiExtractDomain(org) {
            if (!org) return null;
            const domains = {
                "Claro NET": "claro.com.br",
                "Vivo Fibra": "vivo.com.br",
                "TIM Brasil": "tim.com.br",
                "Comcast": "comcast.net",
                "Verizon": "verizon.com",
                "AT&T": "att.com",
                "Google Fiber": "google.com"
            };
            
            for (const [key, value] of Object.entries(domains)) {
                if (org.includes(key)) return value;
            }
            
            return null;
        }
        
        function fbiCheckProxy(ip) {
            // Verificar padr√µes de proxy conhecidos
            const proxyPatterns = [/^192\.168\./, /^10\./, /^172\.(1[6-9]|2[0-9]|3[0-1])\./];
            return proxyPatterns.some(pattern => pattern.test(ip));
        }
        
        function fbiCheckVPN(ip) {
            // Simular verifica√ß√£o de VPN
            return Math.random() > 0.7;
        }
        
        function fbiCheckTOR(ip) {
            // Verificar se √© poss√≠vel n√≥ TOR
            const torPatterns = [/^185\.220\.100\./, /^185\.220\.101\./, /^199\.249\.230\./];
            return torPatterns.some(pattern => pattern.test(ip)) || Math.random() > 0.9;
        }
        
        function fbiCalculateThreatLevel(ip) {
            const score = fbiCalculateRiskScore(ip);
            if (score > 80) return { text: "ALTO", class: "status-danger" };
            if (score > 60) return { text: "M√âDIO", class: "status-warning" };
            if (score > 30) return { text: "BAIXO", class: "status-info" };
            return { text: "MINIMO", class: "status-safe" };
        }
        
        function fbiCalculateRiskScore(ip) {
            // Calcular score de risco baseado em v√°rios fatores
            let score = 50; // Base
            
            // Ajustes baseados no IP
            if (fbiCheckProxy(ip)) score += 20;
            if (fbiCheckVPN(ip)) score += 15;
            if (fbiCheckTOR(ip)) score += 30;
            if (ip.startsWith('192.168.')) score -= 20; // IPs privados s√£o mais seguros
            
            // Aleatoriedade controlada
            score += Math.floor(Math.random() * 20) - 10;
            
            // Garantir limites
            return Math.min(100, Math.max(10, score));
        }
        
        function fbiCheckMalicious(ip) {
            // Simular verifica√ß√£o de IP malicioso
            return Math.random() > 0.85;
        }
        
        function fbiCheckBlacklist(ip) {
            // Simular verifica√ß√£o em listas negras
            return Math.random() > 0.9;
        }
        
        function fbiCheckAnonymity(ip) {
            // Verificar n√≠vel de anonimato
            return fbiCheckProxy(ip) || fbiCheckVPN(ip) || fbiCheckTOR(ip);
        }
        
        function updateThreatReport(ip) {
            const reportDiv = document.getElementById('sec-threat-report');
            const threatLevel = fbiCalculateThreatLevel(ip);
            const riskScore = fbiCalculateRiskScore(ip);
            
            let report = '';
            
            if (riskScore > 80) {
                report = `
                    <p><i class="fas fa-skull-crossbones" style="color: var(--fbi-danger);"></i> <strong>N√çVEL DE AMEA√áA ALTO</strong></p>
                    <p>Este IP apresenta caracter√≠sticas suspeitas e est√° associado a atividades de alto risco.</p>
                    <p>Recomenda-se monitoramento cont√≠nuo e investiga√ß√£o aprofundada.</p>
                `;
            } else if (riskScore > 60) {
                report = `
                    <p><i class="fas fa-exclamation-triangle" style="color: var(--fbi-warning);"></i> <strong>N√çVEL DE AMEA√áA M√âDIO</strong></p>
                    <p>Este IP apresenta algumas caracter√≠sticas suspeitas que merecem aten√ß√£o.</p>
                    <p>Recomenda-se verifica√ß√£o adicional e monitoramento peri√≥dico.</p>
                `;
            } else {
                report = `
                    <p><i class="fas fa-check-circle" style="color: var(--fbi-success);"></i> <strong>N√çVEL DE AMEA√áA BAIXO</strong></p>
                    <p>Este IP n√£o apresenta amea√ßas significativas detectadas pelo sistema.</p>
                    <p>Atividade considerada normal e de baixo risco.</p>
                `;
            }
            
            reportDiv.innerHTML = report;
        }
        
        // ============================================
        // üìä FUN√á√ïES DO SISTEMA
        // ============================================
        function fbiSwitchTab(tabId) {
            // Remover active de todas as tabs
            document.querySelectorAll('.fbi-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.fbi-tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Adicionar active √† tab selecionada
            document.getElementById(tabId).classList.add('active');
            
            // Ativar bot√£o correspondente
            document.querySelectorAll('.fbi-tab-btn').forEach(btn => {
                if (btn.textContent.includes(tabId.toUpperCase().replace('_', ' '))) {
                    btn.classList.add('active');
                }
            });
            
            // Se for a tab de geolocaliza√ß√£o, redimensionar o mapa
            if (tabId === 'geolocation' && fbiMap) {
                setTimeout(() => {
                    fbiMap.invalidateSize();
                }, 300);
            }
            
            // Track no Google Analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'tab_switch', {
                    'event_category': 'navigation',
                    'event_label': tabId
                });
            }
        }
        
        function fbiGenerateFullReport(data) {
            const reportDiv = document.getElementById('fbi-full-report');
            
            const report = `
=== RELAT√ìRIO DO FBI - SISTEMA DE RASTREAMENTO DE IP ===
Data/Hora: ${new Date().toLocaleString('pt-BR')}
ID do Caso: FBI-IP-${Math.floor(100000 + Math.random() * 900000)}
Status do Caso: ${fbiCalculateThreatLevel(data.ip).text === "ALTO" ? "INVESTIGA√á√ÉO URGENTE" : "EM AN√ÅLISE"}
============================================

[INFORMA√á√ïES DO IP]
Endere√ßo IP: ${data.ip}
Tipo: IPv${data.version || '4'}
Status: ${fbiCheckProxy(data.ip) ? "PROXY DETECTADO" : "NORMAL"}

[GEOLOCALIZA√á√ÉO]
Pa√≠s: ${data.country_name} (${data.country_code})
Cidade/Estado: ${data.city || 'Desconhecida'}, ${data.region || 'Desconhecido'}
Coordenadas: ${data.latitude ? data.latitude.toFixed(4) : 'N/A'}, ${data.longitude ? data.longitude.toFixed(4) : 'N/A'}

[INFORMA√á√ïES DE REDE]
ISP: ${data.org || 'N√£o identificado'}
ASN: ${data.asn || 'N√£o dispon√≠vel'}
Conex√£o: ${fbiCheckVPN(data.ip) ? "VPN DETECTADA" : "DIRETA"}

[AN√ÅLISE DE SEGURAN√áA]
N√≠vel de Amea√ßa: ${fbiCalculateThreatLevel(data.ip).text}
Score de Risco: ${fbiCalculateRiskScore(data.ip)}/100
Status no FBI: ${fbiCalculateThreatLevel(data.ip).text === "ALTO" ? "MONITORADO" : "LIMPO"}
Observa√ß√µes: ${fbiCalculateRiskScore(data.ip) > 70 ? "Requer aten√ß√£o especial" : "Atividade normal"}

============================================
RELAT√ìRIO GERADO AUTOMATICAMENTE PELO SISTEMA FBI
Sistema: FBI IP Tracking System v${FBI_VERSION}
Agente Respons√°vel: Sistema Automatizado
            `;
            
            reportDiv.textContent = report;
        }
        
        function fbiGenerateReport() {
            fbiShowNotification("üìÑ Gerando relat√≥rio PDF...", "info");
            setTimeout(() => {
                fbiShowNotification("‚úÖ Relat√≥rio PDF gerado com sucesso!", "success");
            }, 1500);
        }
        
        function fbiPrintReport() {
            window.print();
        }
        
        function fbiShareReport() {
            const shareText = `üö® RELAT√ìRIO FBI IP TRACKER\n\nIP: ${fbiData.ip}\nLocaliza√ß√£o: ${fbiData.city}, ${fbiData.country_name}\nStatus: ${fbiCalculateThreatLevel(fbiData.ip).text}\n\nAcesse: ${window.location.href}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Relat√≥rio FBI IP Tracker',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    fbiShowNotification("üìã Relat√≥rio copiado para compartilhar!", "success");
                });
            }
        }
        
        // ============================================
        // üõ†Ô∏è FUN√á√ïES DAS FERRAMENTAS
        // ============================================
        function fbiToolPing() {
            const resultDiv = document.getElementById('tools-result');
            resultDiv.innerHTML = '<p><i class="fas fa-sync fa-spin"></i> Executando teste de ping...</p>';
            
            setTimeout(() => {
                const ping = Math.floor(Math.random() * 100) + 20;
                resultDiv.innerHTML = `
                    <h4 style="color: var(--fbi-gold); margin-bottom: 15px;">
                        <i class="fas fa-satellite-dish"></i> RESULTADO DO PING
                    </h4>
                    <p>IP: <strong>${fbiData.ip}</strong></p>
                    <p>Lat√™ncia: <strong>${ping} ms</strong></p>
                    <p>Status: <span class="fbi-status ${ping < 50 ? 'status-safe' : ping < 100 ? 'status-warning' : 'status-danger'}">${ping < 50 ? 'EXCELENTE' : ping < 100 ? 'BOM' : 'LENTO'}</span></p>
                    <p>Pacotes: 4 enviados, 4 recebidos, 0% perda</p>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #a0a0c0;">
                        <i class="fas fa-info-circle"></i> Teste realizado pelo sistema FBI
                    </p>
                `;
            }, 2000);
        }
        
        function fbiToolPortScan() {
            const resultDiv = document.getElementById('tools-result');
            resultDiv.innerHTML = '<p><i class="fas fa-sync fa-spin"></i> Escaneando portas...</p>';
            
            setTimeout(() => {
                const ports = [
                    { port: 80, service: "HTTP", status: "ABERTA" },
                    { port: 443, service: "HTTPS", status: "ABERTA" },
                    { port: 22, service: "SSH", status: "FECHADA" },
                    { port: 21, service: "FTP", status: "FECHADA" },
                    { port: 25, service: "SMTP", status: "FECHADA" },
                    { port: 53, service: "DNS", status: "ABERTA" }
                ];
                
                let html = `
                    <h4 style="color: var(--fbi-gold); margin-bottom: 15px;">
                        <i class="fas fa-door-open"></i> ESCANEAMENTO DE PORTAS
                    </h4>
                    <p>IP: <strong>${fbiData.ip}</strong></p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; margin-top: 15px;">
                `;
                
                ports.forEach(p => {
                    const statusColor = p.status === "ABERTA" ? "var(--fbi-danger)" : "var(--fbi-success)";
                    html += `
                        <div style="background: rgba(0, 0, 0, 0.5); padding: 10px; border-radius: 8px; text-align: center; border: 1px solid ${statusColor};">
                            <div style="font-weight: bold; font-size: 1.2rem; color: ${statusColor};">${p.port}</div>
                            <div style="font-size: 0.9rem; color: #ccc;">${p.service}</div>
                            <div style="color: ${statusColor}; font-weight: bold; font-size: 0.8rem;">${p.status}</div>
                        </div>
                    `;
                });
                
                html += `
                    </div>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #a0a0c0;">
                        <i class="fas fa-info-circle"></i> Escaneamento realizado pelo sistema FBI
                    </p>
                `;
                
                resultDiv.innerHTML = html;
            }, 3000);
        }
        
        function fbiToolTraceRoute() {
            const resultDiv = document.getElementById('tools-result');
            resultDiv.innerHTML = '<p><i class="fas fa-sync fa-spin"></i> Tra√ßando rota...</p>';
            
            setTimeout(() => {
                const hops = [
                    { hop: 1, ip: "192.168.1.1", ms: "1" },
                    { hop: 2, ip: "10.0.0.1", ms: "5" },
                    { hop: 3, ip: "200.221.11.145", ms: "15" },
                    { hop: 4, ip: "187.16.217.1", ms: "25" },
                    { hop: 5, ip: fbiData.ip, ms: "32" }
                ];
                
                let html = `
                    <h4 style="color: var(--fbi-gold); margin-bottom: 15px;">
                        <i class="fas fa-route"></i> TRACEROUTE
                    </h4>
                    <p>IP Destino: <strong>${fbiData.ip}</strong></p>
                    <div style="margin-top: 15px; font-family: 'Courier New', monospace; font-size: 0.9rem;">
                `;
                
                hops.forEach(h => {
                    html += `<p>${h.hop}&nbsp;&nbsp;${h.ip}&nbsp;&nbsp;${h.ms} ms</p>`;
                });
                
                html += `
                    </div>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #a0a0c0;">
                        <i class="fas fa-info-circle"></i> Roteamento realizado pelo sistema FBI
                    </p>
                `;
                
                resultDiv.innerHTML = html;
            }, 2500);
        }
        
        function fbiToolDNSLookup() {
            const resultDiv = document.getElementById('tools-result');
            resultDiv.innerHTML = '<p><i class="fas fa-sync fa-spin"></i> Consultando DNS...</p>';
            
            setTimeout(() => {
                resultDiv.innerHTML = `
                    <h4 style="color: var(--fbi-gold); margin-bottom: 15px;">
                        <i class="fas fa-search"></i> CONSULTA DNS
                    </h4>
                    <p>IP: <strong>${fbiData.ip}</strong></p>
                    <p>Hostname: <strong>${fbiExtractDomain(fbiData.org) || 'N√£o encontrado'}</strong></p>
                    <p>Registro A: <strong>${fbiData.ip}</strong></p>
                    <p>Registro PTR: <strong>${fbiData.ip.split('.').reverse().join('.')}.in-addr.arpa</strong></p>
                    <p>TTL: <strong>3600</strong></p>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #a0a0c0;">
                        <i class="fas fa-info-circle"></i> Consulta realizada pelo sistema FBI
                    </p>
                `;
            }, 1500);
        }
        
        function fbiToolWhois() {
            const resultDiv = document.getElementById('tools-result');
            resultDiv.innerHTML = '<p><i class="fas fa-sync fa-spin"></i> Consultando WHOIS...</p>';
            
            setTimeout(() => {
                resultDiv.innerHTML = `
                    <h4 style="color: var(--fbi-gold); margin-bottom: 15px;">
                        <i class="fas fa-database"></i> CONSULTA WHOIS
                    </h4>
                    <p>IP: <strong>${fbiData.ip}</strong></p>
                    <p>Range: <strong>${fbiData.ip.split('.')[0]}.${fbiData.ip.split('.')[1]}.0.0/16</strong></p>
                    <p>RIR: <strong>LACNIC</strong></p>
                    <p>Data de Registro: <strong>${new Date(Date.now() - Math.random() * 31536000000).toLocaleDateString('pt-BR')}</strong></p>
                    <p>Status: <strong>ATIVO</strong></p>
                    <p>Organiza√ß√£o: <strong>${fbiData.org || 'N√£o dispon√≠vel'}</strong></p>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #a0a0c0;">
                        <i class="fas fa-info-circle"></i> Consulta realizada pelo sistema FBI
                    </p>
                `;
            }, 2000);
        }
        
        function fbiToolExport() {
            fbiShowNotification("üì§ Exportando dados...", "info");
            setTimeout(() => {
                fbiShowNotification("‚úÖ Dados exportados com sucesso!", "success");
            }, 1500);
        }
        
        function fbiToolMonitor() {
            fbiShowNotification("üëÅÔ∏è Iniciando monitoramento cont√≠nuo...", "info");
            setTimeout(() => {
                fbiShowNotification("‚úÖ Monitoramento ativo por 24h!", "success");
            }, 1000);
        }
        
        function fbiToolCompare() {
            const resultDiv = document.getElementById('tools-result');
            resultDiv.innerHTML = '<p><i class="fas fa-sync fa-spin"></i> Comparando IPs...</p>';
            
            setTimeout(() => {
                resultDiv.innerHTML = `
                    <h4 style="color: var(--fbi-gold); margin-bottom: 15px;">
                        <i class="fas fa-balance-scale"></i> AN√ÅLISE COMPARATIVA
                    </h4>
                    <p>IP Analisado: <strong>${fbiData.ip}</strong></p>
                    <p>IP Comparativo: <strong>8.8.8.8 (Google DNS)</strong></p>
                    <div style="margin-top: 15px;">
                        <p><strong>Diferen√ßas:</strong></p>
                        <p>‚Ä¢ Localiza√ß√£o: ${fbiData.country_name} vs Estados Unidos</p>
                        <p>‚Ä¢ ISP: ${fbiData.org || 'Desconhecido'} vs Google LLC</p>
                        <p>‚Ä¢ Risco: ${fbiCalculateRiskScore(fbiData.ip)}/100 vs 10/100</p>
                        <p>‚Ä¢ Tipo: Usu√°rio vs Servi√ßo P√∫blico</p>
                    </div>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #a0a0c0;">
                        <i class="fas fa-info-circle"></i> An√°lise realizada pelo sistema FBI
                    </p>
                `;
            }, 2000);
        }
        
        // ============================================
        // üéÆ FUN√á√ïES EXTRAS
        // ============================================
        function fbiGenerateRandomIP() {
            document.getElementById('fbi-ip-input').value = fbiGenerateRandomIP();
        }
        
        function fbiScanNetwork() {
            fbiShowNotification("üåê Escaneando rede local...", "info");
            setTimeout(() => {
                fbiShowNotification("‚úÖ Rede escaneada: 5 dispositivos encontrados", "success");
            }, 2000);
        }
        
        function fbiEmergencyTrace() {
            fbiShowNotification("üö® INICIANDO RASTREAMENTO DE EMERG√äNCIA!", "danger");
            setTimeout(() => {
                fbiShowNotification("‚úÖ Rastreamento de emerg√™ncia completo!", "success");
            }, 3000);
        }
        
        function startFBICounter() {
            let count = 1247893;
            const counter = document.getElementById('live-counter');
            
            setInterval(() => {
                count += Math.floor(Math.random() * 10) + 1;
                counter.textContent = count.toLocaleString('pt-BR');
            }, 5000);
        }
        
        function fbiShowNotification(message, type) {
            // Criar elemento de notifica√ß√£o
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(0, 255, 153, 0.9)' : 
                           type === 'danger' ? 'rgba(196, 30, 58, 0.9)' : 
                           type === 'warning' ? 'rgba(255, 165, 0, 0.9)' : 
                           'rgba(0, 48, 135, 0.9)'};
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                border: 2px solid ${type === 'success' ? '#00ff99' : 
                           type === 'danger' ? '#c41e3a' : 
                           type === 'warning' ? '#ffa500' : 
                           '#003087'};
                z-index: 10000;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                font-family: 'Courier New', monospace;
                font-weight: bold;
                max-width: 400px;
                animation: slideInRight 0.3s ease-out;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    ${type === 'success' ? '‚úÖ' : 
                      type === 'danger' ? 'üö®' : 
                      type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Remover ap√≥s 5 segundos
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }
        
        // ============================================
        // üåê EXPORTAR FUN√á√ïES GLOBAIS
        // ============================================
        window.fbiTrackIP = fbiTrackIP;
        window.fbiSwitchTab = fbiSwitchTab;
        window.fbiGenerateRandomIP = fbiGenerateRandomIP;
        window.fbiScanNetwork = fbiScanNetwork;
        window.fbiEmergencyTrace = fbiEmergencyTrace;
        window.fbiToolPing = fbiToolPing;
        window.fbiToolPortScan = fbiToolPortScan;
        window.fbiToolTraceRoute = fbiToolTraceRoute;
        window.fbiToolDNSLookup = fbiToolDNSLookup;
        window.fbiToolWhois = fbiToolWhois;
        window.fbiToolExport = fbiToolExport;
        window.fbiToolMonitor = fbiToolMonitor;
        window.fbiToolCompare = fbiToolCompare;
        window.fbiGenerateReport = fbiGenerateReport;
        window.fbiPrintReport = fbiPrintReport;
        window.fbiShareReport = fbiShareReport;
        window.switchMapLayer = switchMapLayer;
        window.centerOnMarker = centerOnMarker;
        window.zoomToIP = zoomToIP;
    </script>
</body>
</html>